"use strict";(self.webpackChunkgithub_workshop_wiki=self.webpackChunkgithub_workshop_wiki||[]).push([[4146],{4695:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var t=s(4848),i=s(8453);const r={id:"gesture-customization",title:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9",sidebar_label:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",description:"MediaPipe\u3092\u4f7f\u3063\u305f\u624b\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u8a8d\u8b58\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u65b9\u6cd5\u3092\u5b66\u3076"},a="\ud83c\udfaf \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9",l={id:"tetris-workshop/gesture-customization",title:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9",description:"MediaPipe\u3092\u4f7f\u3063\u305f\u624b\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u8a8d\u8b58\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u65b9\u6cd5\u3092\u5b66\u3076",source:"@site/docs/tetris-workshop/gesture-customization.md",sourceDirName:"tetris-workshop",slug:"/tetris-workshop/gesture-customization",permalink:"/GitHub-demo/docs/tetris-workshop/gesture-customization",draft:!1,unlisted:!1,editUrl:"https://github.com/itoksk/GitHub-demo/tree/main/docs/tetris-workshop/gesture-customization.md",tags:[],version:"current",frontMatter:{id:"gesture-customization",title:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9",sidebar_label:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",description:"MediaPipe\u3092\u4f7f\u3063\u305f\u624b\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u8a8d\u8b58\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u65b9\u6cd5\u3092\u5b66\u3076"},sidebar:"tutorialSidebar",previous:{title:"\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8ab2\u984c",permalink:"/GitHub-demo/docs/tetris-workshop/programming-exercises"},next:{title:"\u6982\u8981",permalink:"/GitHub-demo/docs/license/intro"}},c={},d=[{value:"MediaPipe\u306e\u57fa\u790e\u77e5\u8b58",id:"mediapipe\u306e\u57fa\u790e\u77e5\u8b58",level:2},{value:"\u624b\u306e\u30e9\u30f3\u30c9\u30de\u30fc\u30af\uff0821\u500b\u306e\u30dd\u30a4\u30f3\u30c8\uff09",id:"\u624b\u306e\u30e9\u30f3\u30c9\u30de\u30fc\u30af21\u500b\u306e\u30dd\u30a4\u30f3\u30c8",level:3},{value:"\u5ea7\u6a19\u30b7\u30b9\u30c6\u30e0",id:"\u5ea7\u6a19\u30b7\u30b9\u30c6\u30e0",level:3},{value:"\u73fe\u5728\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u5b9f\u88c5",id:"\u73fe\u5728\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u5b9f\u88c5",level:2},{value:"1. \u624b\u306e\u50be\u304d\u691c\u51fa",id:"1-\u624b\u306e\u50be\u304d\u691c\u51fa",level:3},{value:"2. \u6307\u306e\u72b6\u614b\u691c\u51fa",id:"2-\u6307\u306e\u72b6\u614b\u691c\u51fa",level:3},{value:"\u30ab\u30b9\u30bf\u30e0\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b9f\u88c5",id:"\u30ab\u30b9\u30bf\u30e0\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b9f\u88c5",level:2},{value:"\u4f8b1\uff1a\u30b0\u30fc\uff08\u4e00\u6642\u505c\u6b62\uff09",id:"\u4f8b1\u30b0\u30fc\u4e00\u6642\u505c\u6b62",level:3},{value:"\u4f8b2\uff1a\u30d4\u30fc\u30b9\u30b5\u30a4\u30f3\uff082\u500d\u901f\uff09",id:"\u4f8b2\u30d4\u30fc\u30b9\u30b5\u30a4\u30f32\u500d\u901f",level:3},{value:"\u4f8b3\uff1a\u624b\u306e\u56de\u8ee2\uff08\u7279\u6b8a\u56de\u8ee2\uff09",id:"\u4f8b3\u624b\u306e\u56de\u8ee2\u7279\u6b8a\u56de\u8ee2",level:3},{value:"\u4f8b4\uff1a\u6307\u306e\u6570\u3067\u901f\u5ea6\u5236\u5fa1",id:"\u4f8b4\u6307\u306e\u6570\u3067\u901f\u5ea6\u5236\u5fa1",level:3},{value:"\u9ad8\u5ea6\u306a\u30c6\u30af\u30cb\u30c3\u30af",id:"\u9ad8\u5ea6\u306a\u30c6\u30af\u30cb\u30c3\u30af",level:2},{value:"1. \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b89\u5b9a\u5316",id:"1-\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b89\u5b9a\u5316",level:3},{value:"2. \u30ab\u30b9\u30bf\u30e0\u3057\u304d\u3044\u5024\u306e\u8abf\u6574",id:"2-\u30ab\u30b9\u30bf\u30e0\u3057\u304d\u3044\u5024\u306e\u8abf\u6574",level:3},{value:"3. \u30c7\u30d0\u30c3\u30b0\u7528\u306e\u53ef\u8996\u5316",id:"3-\u30c7\u30d0\u30c3\u30b0\u7528\u306e\u53ef\u8996\u5316",level:3},{value:"\u5b9f\u88c5\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u5b9f\u88c5\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"1. \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316",id:"1-\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316",level:3},{value:"2. \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",id:"2-\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",level:3},{value:"3. \u30e6\u30fc\u30b6\u30fc\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af",id:"3-\u30e6\u30fc\u30b6\u30fc\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af",level:3},{value:"\u30c1\u30e3\u30ec\u30f3\u30b8\u8ab2\u984c",id:"\u30c1\u30e3\u30ec\u30f3\u30b8\u8ab2\u984c",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"-\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9",children:"\ud83c\udfaf \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30ac\u30a4\u30c9"}),"\n",(0,t.jsx)(e.p,{children:"MediaPipe\u306e\u624b\u306e\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u72ec\u81ea\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u3087\u3046\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"mediapipe\u306e\u57fa\u790e\u77e5\u8b58",children:"MediaPipe\u306e\u57fa\u790e\u77e5\u8b58"}),"\n",(0,t.jsx)(e.h3,{id:"\u624b\u306e\u30e9\u30f3\u30c9\u30de\u30fc\u30af21\u500b\u306e\u30dd\u30a4\u30f3\u30c8",children:"\u624b\u306e\u30e9\u30f3\u30c9\u30de\u30fc\u30af\uff0821\u500b\u306e\u30dd\u30a4\u30f3\u30c8\uff09"}),"\n",(0,t.jsx)(e.p,{children:"MediaPipe\u306f\u624b\u306e21\u500b\u306e\u7279\u5fb4\u70b9\u3092\u8ffd\u8de1\u3057\u307e\u3059\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"    8   12  16  20  \u2190 \u6307\u5148\n    |   |   |   |\n    7   11  15  19\n    |   |   |   |\n    6   10  14  18\n    |   |   |   |\n    5---9---13--17\n     \\  |  /  /\n      \\ | / /\n        0  \u2190 \u624b\u9996\n       /\n      1-2-3-4 \u2190 \u89aa\u6307\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5404\u30e9\u30f3\u30c9\u30de\u30fc\u30af\u306e\u610f\u5473\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"0"}),": \u624b\u9996\uff08WRIST\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"1-4"}),": \u89aa\u6307\uff08THUMB\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"5-8"}),": \u4eba\u5dee\u3057\u6307\uff08INDEX_FINGER\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"9-12"}),": \u4e2d\u6307\uff08MIDDLE_FINGER\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"13-16"}),": \u85ac\u6307\uff08RING_FINGER\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"17-20"}),": \u5c0f\u6307\uff08PINKY\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u5ea7\u6a19\u30b7\u30b9\u30c6\u30e0",children:"\u5ea7\u6a19\u30b7\u30b9\u30c6\u30e0"}),"\n",(0,t.jsx)(e.p,{children:"\u5404\u30e9\u30f3\u30c9\u30de\u30fc\u30af\u306f3\u3064\u306e\u5024\u3092\u6301\u3061\u307e\u3059\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"x"}),": \u6a2a\u65b9\u5411\u306e\u4f4d\u7f6e\uff080.0\u301c1.0\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"y"}),": \u7e26\u65b9\u5411\u306e\u4f4d\u7f6e\uff080.0\u301c1.0\uff09"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"z"}),": \u6df1\u3055\uff08\u30ab\u30e1\u30e9\u304b\u3089\u306e\u8ddd\u96e2\u306e\u63a8\u5b9a\u5024\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u30e9\u30f3\u30c9\u30de\u30fc\u30af\u3078\u306e\u30a2\u30af\u30bb\u30b9\u4f8b\nconst wrist = results.landmarks[0][0];\nconsole.log(`\u624b\u9996\u306e\u4f4d\u7f6e: x=${wrist.x}, y=${wrist.y}, z=${wrist.z}`);\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u73fe\u5728\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u5b9f\u88c5",children:"\u73fe\u5728\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u5b9f\u88c5"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u624b\u306e\u50be\u304d\u691c\u51fa",children:"1. \u624b\u306e\u50be\u304d\u691c\u51fa"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function getHandAngle(landmarks) {\n    const wrist = landmarks[0];\n    const middleBase = landmarks[9];\n    \n    // 2\u70b9\u9593\u306e\u89d2\u5ea6\u3092\u8a08\u7b97\n    const angle = Math.atan2(\n        middleBase.y - wrist.y,\n        middleBase.x - wrist.x\n    );\n    \n    return angle;\n}\n\n// \u4f7f\u7528\u4f8b\nconst angle = getHandAngle(landmarks);\nif (angle < -0.3) {\n    // \u5de6\u306b\u50be\u3044\u3066\u3044\u308b\n    moveTetrisLeft();\n} else if (angle > 0.3) {\n    // \u53f3\u306b\u50be\u3044\u3066\u3044\u308b\n    moveTetrisRight();\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"2-\u6307\u306e\u72b6\u614b\u691c\u51fa",children:"2. \u6307\u306e\u72b6\u614b\u691c\u51fa"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function isFingerOpen(landmarks, fingerTip, fingerBase) {\n    // \u6307\u5148\u304c\u6307\u306e\u4ed8\u3051\u6839\u3088\u308a\u4e0a\u306b\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\n    return landmarks[fingerTip].y < landmarks[fingerBase].y;\n}\n\n// \u4eba\u5dee\u3057\u6307\u304c\u7acb\u3063\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\nconst indexFingerUp = isFingerOpen(landmarks, 8, 6);\nif (indexFingerUp) {\n    rotateTetrisPiece();\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u30ab\u30b9\u30bf\u30e0\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b9f\u88c5",children:"\u30ab\u30b9\u30bf\u30e0\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b9f\u88c5"}),"\n",(0,t.jsx)(e.h3,{id:"\u4f8b1\u30b0\u30fc\u4e00\u6642\u505c\u6b62",children:"\u4f8b1\uff1a\u30b0\u30fc\uff08\u4e00\u6642\u505c\u6b62\uff09"}),"\n",(0,t.jsx)(e.p,{children:"\u3059\u3079\u3066\u306e\u6307\u304c\u9589\u3058\u3066\u3044\u308b\u3068\u304d\u306b\u30b2\u30fc\u30e0\u3092\u4e00\u6642\u505c\u6b62\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function isFist(landmarks) {\n    // \u3059\u3079\u3066\u306e\u6307\u5148\u304c\u5bfe\u5fdc\u3059\u308b\u4ed8\u3051\u6839\u3088\u308a\u4e0b\u306b\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\n    const fingers = [\n        { tip: 4, base: 2 },   // \u89aa\u6307\n        { tip: 8, base: 6 },   // \u4eba\u5dee\u3057\u6307\n        { tip: 12, base: 10 }, // \u4e2d\u6307\n        { tip: 16, base: 14 }, // \u85ac\u6307\n        { tip: 20, base: 18 }  // \u5c0f\u6307\n    ];\n    \n    return fingers.every(finger => \n        landmarks[finger.tip].y > landmarks[finger.base].y\n    );\n}\n\n// \u30b2\u30fc\u30e0\u30eb\u30fc\u30d7\u5185\u3067\u4f7f\u7528\nif (isFist(landmarks)) {\n    pauseGame();\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f8b2\u30d4\u30fc\u30b9\u30b5\u30a4\u30f32\u500d\u901f",children:"\u4f8b2\uff1a\u30d4\u30fc\u30b9\u30b5\u30a4\u30f3\uff082\u500d\u901f\uff09"}),"\n",(0,t.jsx)(e.p,{children:"\u4eba\u5dee\u3057\u6307\u3068\u4e2d\u6307\u3060\u3051\u304c\u7acb\u3063\u3066\u3044\u308b\u3068\u304d\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function isPeaceSign(landmarks) {\n    const indexUp = isFingerOpen(landmarks, 8, 6);\n    const middleUp = isFingerOpen(landmarks, 12, 10);\n    const ringDown = !isFingerOpen(landmarks, 16, 14);\n    const pinkyDown = !isFingerOpen(landmarks, 20, 18);\n    \n    return indexUp && middleUp && ringDown && pinkyDown;\n}\n\nif (isPeaceSign(landmarks)) {\n    gameSpeed = 2.0; // 2\u500d\u901f\n} else {\n    gameSpeed = 1.0; // \u901a\u5e38\u901f\u5ea6\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f8b3\u624b\u306e\u56de\u8ee2\u7279\u6b8a\u56de\u8ee2",children:"\u4f8b3\uff1a\u624b\u306e\u56de\u8ee2\uff08\u7279\u6b8a\u56de\u8ee2\uff09"}),"\n",(0,t.jsx)(e.p,{children:"\u624b\u3092\u5186\u3092\u63cf\u304f\u3088\u3046\u306b\u52d5\u304b\u3057\u305f\u3068\u304d\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"class GestureTracker {\n    constructor() {\n        this.history = [];\n        this.maxHistory = 30; // 30\u30d5\u30ec\u30fc\u30e0\u5206\u3092\u4fdd\u5b58\n    }\n    \n    update(landmarks) {\n        const wrist = landmarks[0];\n        this.history.push({ x: wrist.x, y: wrist.y, time: Date.now() });\n        \n        // \u53e4\u3044\u30c7\u30fc\u30bf\u3092\u524a\u9664\n        if (this.history.length > this.maxHistory) {\n            this.history.shift();\n        }\n    }\n    \n    detectCircularMotion() {\n        if (this.history.length < 20) return false;\n        \n        // \u7c21\u6613\u7684\u306a\u5186\u691c\u51fa\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n        const recent = this.history.slice(-20);\n        const centerX = recent.reduce((sum, p) => sum + p.x, 0) / recent.length;\n        const centerY = recent.reduce((sum, p) => sum + p.y, 0) / recent.length;\n        \n        // \u4e2d\u5fc3\u304b\u3089\u306e\u8ddd\u96e2\u306e\u5206\u6563\u304c\u5c0f\u3055\u3051\u308c\u3070\u5186\u904b\u52d5\n        const distances = recent.map(p => \n            Math.sqrt((p.x - centerX) ** 2 + (p.y - centerY) ** 2)\n        );\n        \n        const avgDistance = distances.reduce((a, b) => a + b, 0) / distances.length;\n        const variance = distances.reduce((sum, d) => \n            sum + (d - avgDistance) ** 2, 0\n        ) / distances.length;\n        \n        return variance < 0.001; // \u3057\u304d\u3044\u5024\u306f\u8abf\u6574\u53ef\u80fd\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f8b4\u6307\u306e\u6570\u3067\u901f\u5ea6\u5236\u5fa1",children:"\u4f8b4\uff1a\u6307\u306e\u6570\u3067\u901f\u5ea6\u5236\u5fa1"}),"\n",(0,t.jsx)(e.p,{children:"\u958b\u3044\u3066\u3044\u308b\u6307\u306e\u6570\u306b\u5fdc\u3058\u3066\u843d\u4e0b\u901f\u5ea6\u3092\u5909\u66f4\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function countOpenFingers(landmarks) {\n    let count = 0;\n    const fingers = [4, 8, 12, 16, 20]; // \u5404\u6307\u306e\u5148\u7aef\n    const bases = [2, 6, 10, 14, 18];   // \u5404\u6307\u306e\u4ed8\u3051\u6839\n    \n    for (let i = 0; i < fingers.length; i++) {\n        if (landmarks[fingers[i]].y < landmarks[bases[i]].y) {\n            count++;\n        }\n    }\n    \n    return count;\n}\n\n// \u30b2\u30fc\u30e0\u5185\u3067\u4f7f\u7528\nconst openFingers = countOpenFingers(landmarks);\ndropSpeed = baseSpeed * (1 + openFingers * 0.2);\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u9ad8\u5ea6\u306a\u30c6\u30af\u30cb\u30c3\u30af",children:"\u9ad8\u5ea6\u306a\u30c6\u30af\u30cb\u30c3\u30af"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b89\u5b9a\u5316",children:"1. \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u306e\u5b89\u5b9a\u5316"}),"\n",(0,t.jsx)(e.p,{children:"\u8aa4\u691c\u51fa\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u8907\u6570\u30d5\u30ec\u30fc\u30e0\u3067\u78ba\u8a8d\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"class StableGestureDetector {\n    constructor(threshold = 5) {\n        this.gestureCount = {};\n        this.threshold = threshold;\n    }\n    \n    detect(gestureName, isDetected) {\n        if (!this.gestureCount[gestureName]) {\n            this.gestureCount[gestureName] = 0;\n        }\n        \n        if (isDetected) {\n            this.gestureCount[gestureName]++;\n        } else {\n            this.gestureCount[gestureName] = 0;\n        }\n        \n        return this.gestureCount[gestureName] >= this.threshold;\n    }\n}\n\nconst detector = new StableGestureDetector();\nif (detector.detect('fist', isFist(landmarks))) {\n    // 5\u30d5\u30ec\u30fc\u30e0\u9023\u7d9a\u3067\u30b0\u30fc\u304c\u691c\u51fa\u3055\u308c\u305f\u3089\u5b9f\u884c\n    pauseGame();\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"2-\u30ab\u30b9\u30bf\u30e0\u3057\u304d\u3044\u5024\u306e\u8abf\u6574",children:"2. \u30ab\u30b9\u30bf\u30e0\u3057\u304d\u3044\u5024\u306e\u8abf\u6574"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"const GESTURE_THRESHOLDS = {\n    ANGLE_LEFT: -0.3,\n    ANGLE_RIGHT: 0.3,\n    FINGER_OPEN_RATIO: 0.8,\n    CIRCULAR_MOTION_VARIANCE: 0.001\n};\n\n// \u8a2d\u5b9a\u753b\u9762\u3067\u8abf\u6574\u53ef\u80fd\u306b\u3059\u308b\nfunction updateThreshold(gesture, value) {\n    GESTURE_THRESHOLDS[gesture] = value;\n    saveSettings();\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"3-\u30c7\u30d0\u30c3\u30b0\u7528\u306e\u53ef\u8996\u5316",children:"3. \u30c7\u30d0\u30c3\u30b0\u7528\u306e\u53ef\u8996\u5316"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function drawDebugInfo(ctx, landmarks) {\n    // \u30e9\u30f3\u30c9\u30de\u30fc\u30af\u3092\u63cf\u753b\n    landmarks.forEach((landmark, index) => {\n        const x = landmark.x * ctx.canvas.width;\n        const y = landmark.y * ctx.canvas.height;\n        \n        ctx.fillStyle = '#00FF00';\n        ctx.beginPath();\n        ctx.arc(x, y, 5, 0, 2 * Math.PI);\n        ctx.fill();\n        \n        // \u30e9\u30f3\u30c9\u30de\u30fc\u30af\u756a\u53f7\u3092\u8868\u793a\n        ctx.fillStyle = '#FFFFFF';\n        ctx.fillText(index.toString(), x + 10, y);\n    });\n    \n    // \u63a5\u7d9a\u7dda\u3092\u63cf\u753b\n    const connections = [\n        [0, 1], [1, 2], [2, 3], [3, 4],     // \u89aa\u6307\n        [0, 5], [5, 6], [6, 7], [7, 8],     // \u4eba\u5dee\u3057\u6307\n        [0, 9], [9, 10], [10, 11], [11, 12], // \u4e2d\u6307\n        // ... \u4ed6\u306e\u6307\n    ];\n    \n    ctx.strokeStyle = '#00FF00';\n    connections.forEach(([start, end]) => {\n        ctx.beginPath();\n        ctx.moveTo(\n            landmarks[start].x * ctx.canvas.width,\n            landmarks[start].y * ctx.canvas.height\n        );\n        ctx.lineTo(\n            landmarks[end].x * ctx.canvas.width,\n            landmarks[end].y * ctx.canvas.height\n        );\n        ctx.stroke();\n    });\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5b9f\u88c5\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u5b9f\u88c5\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316",children:"1. \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u91cd\u3044\u8a08\u7b97\u306f\u5fc5\u8981\u306a\u3068\u304d\u3060\u3051\u5b9f\u884c\nlet lastGestureCheck = 0;\nconst GESTURE_CHECK_INTERVAL = 100; // 100ms\n\nfunction updateGestures(landmarks) {\n    const now = Date.now();\n    if (now - lastGestureCheck < GESTURE_CHECK_INTERVAL) {\n        return;\n    }\n    lastGestureCheck = now;\n    \n    // \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u691c\u51fa\u51e6\u7406\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"2-\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",children:"2. \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function safeGestureDetection(landmarks) {\n    try {\n        if (!landmarks || landmarks.length < 21) {\n            console.warn('Invalid landmarks data');\n            return null;\n        }\n        \n        // \u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u691c\u51fa\u51e6\u7406\n    } catch (error) {\n        console.error('Gesture detection error:', error);\n        return null;\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"3-\u30e6\u30fc\u30b6\u30fc\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af",children:"3. \u30e6\u30fc\u30b6\u30fc\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"function showGestureStatus(gesture) {\n    const statusElement = document.getElementById('gesture-status');\n    statusElement.textContent = `\u73fe\u5728\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc: ${gesture}`;\n    statusElement.className = 'gesture-active';\n    \n    // 1\u79d2\u5f8c\u306b\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\n    setTimeout(() => {\n        statusElement.className = 'gesture-inactive';\n    }, 1000);\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u30c1\u30e3\u30ec\u30f3\u30b8\u8ab2\u984c",children:"\u30c1\u30e3\u30ec\u30f3\u30b8\u8ab2\u984c"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30de\u30eb\u30c1\u30cf\u30f3\u30c9\u30b5\u30dd\u30fc\u30c8"}),"\uff1a\u4e21\u624b\u3092\u4f7f\u3063\u305f\u64cd\u4f5c\u3092\u5b9f\u88c5"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30b3\u30f3\u30dc"}),"\uff1a\u9023\u7d9a\u3057\u305f\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u3067\u7279\u6b8a\u52b9\u679c"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30ab\u30b9\u30bf\u30e0\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u30a8\u30c7\u30a3\u30bf"}),"\uff1a\u30e6\u30fc\u30b6\u30fc\u304c\u72ec\u81ea\u306e\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u3092\u5b9a\u7fa9"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u6a5f\u68b0\u5b66\u7fd2\u7d71\u5408"}),"\uff1aTensorFlow.js\u3092\u4f7f\u3063\u305f\u9ad8\u5ea6\u306a\u30b8\u30a7\u30b9\u30c1\u30e3\u30fc\u8a8d\u8b58"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u3053\u308c\u3089\u306e\u6280\u8853\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u3042\u306a\u305f\u3060\u3051\u306e\u30e6\u30cb\u30fc\u30af\u306a\u64cd\u4f5c\u65b9\u6cd5\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\uff01"})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function a(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);